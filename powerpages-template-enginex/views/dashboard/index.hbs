<section class="dashboard-section">
    <div class="container">
        <div class="dashboard-header">
            <div class="dashboard-welcome">
                <h1>Welcome back, {{user.firstName}}!</h1>
                <p>Manage your Power Pages themes and deployments</p>
            </div>
            <a href="/upload" class="btn-primary">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="17 8 12 3 7 8"/>
                    <line x1="12" y1="3" x2="12" y2="15"/>
                </svg>
                Upload Theme
            </a>
        </div>

        <!-- Stats Cards -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <line x1="3" y1="9" x2="21" y2="9"/>
                        <line x1="9" y1="21" x2="9" y2="9"/>
                    </svg>
                </div>
                <div class="stat-content">
                    <span class="stat-number">{{stats.totalThemes}}</span>
                    <span class="stat-label">Total Themes</span>
                </div>
            </div>
            <div class="stat-card stat-success">
                <div class="stat-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                        <polyline points="22 4 12 14.01 9 11.01"/>
                    </svg>
                </div>
                <div class="stat-content">
                    <span class="stat-number">{{stats.activeThemes}}</span>
                    <span class="stat-label">Active Deployments</span>
                </div>
            </div>
            <div class="stat-card stat-warning">
                <div class="stat-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12 6 12 12 16 14"/>
                    </svg>
                </div>
                <div class="stat-content">
                    <span class="stat-number">{{stats.pendingThemes}}</span>
                    <span class="stat-label">In Progress</span>
                </div>
            </div>
            <div class="stat-card stat-info">
                <div class="stat-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                    </svg>
                </div>
                <div class="stat-content">
                    <span class="stat-number">{{user.usage.themesDeployed}}/{{user.usage.themesLimit}}</span>
                    <span class="stat-label">Themes Used</span>
                </div>
            </div>
        </div>

        <!-- Subscription Status -->
        {{#unless user.hasActiveSubscription}}
        <div class="upgrade-banner">
            <div class="upgrade-content">
                <h3>Upgrade Your Plan</h3>
                <p>Get more themes, priority support, and advanced features</p>
            </div>
            <a href="/pricing" class="btn-primary">View Plans</a>
        </div>
        {{/unless}}

        <!-- Recent Themes -->
        <div class="dashboard-section-header">
            <h2>Recent Themes</h2>
            <a href="/dashboard/themes" class="btn-ghost">View All</a>
        </div>

        {{#if themes.length}}
        <div class="themes-list">
            {{#each themes}}
            <div class="theme-list-item">
                <div class="theme-info">
                    <h3>{{this.name}}</h3>
                    <p>Bootstrap {{this.bootstrapVersion}} â€¢ {{formatDate this.createdAt 'short'}}</p>
                </div>
                <div class="theme-status">
                    <span class="status-badge {{statusBadge this.deployment.status}}">
                        {{this.deployment.status}}
                    </span>
                </div>
                <div class="theme-actions">
                    <a href="/dashboard/themes/{{this._id}}" class="btn-ghost btn-small">View Details</a>
                </div>
            </div>
            {{/each}}
        </div>
        {{else}}
        <div class="empty-state">
            <div class="empty-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                    <line x1="3" y1="9" x2="21" y2="9"/>
                    <line x1="9" y1="21" x2="9" y2="9"/>
                </svg>
            </div>
            <h3>No themes yet</h3>
            <p>Upload your first Bootstrap theme to get started</p>
            <a href="/upload" class="btn-primary">Upload Theme</a>
        </div>
        {{/if}}
    </div>
</section>
